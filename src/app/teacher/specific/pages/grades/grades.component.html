<ng-container *ngIf="quests">
    <select #questSelect (click)="getQuestGrades(questSelect.value)">
        <option>Select quest...</option>
        <option *ngFor="let quest of quests" [value]="quest.getQuestId()">
            {{quest.getQuestTitle()}}
        </option>
    </select>
    <table id="hor-zebra" summary="Course List">
        <thead>
            <tr>
                <th scope="col">Student #</th>
                <th scope="col">Grades</th>
                <th scope="col">Date Submitted</th>
                <th scope="col">Submission</th>
            </tr>
        </thead>
        <tbody>
            <ng-container *ngIf="!submissions || submissions.length == 0">
                <tr>
                    <td colspan="4" style="text-align: center">
                        No submissions on this quest yet.
                    </td>
                </tr>
            </ng-container>
            <ng-container *ngIf="submissions">
                <tr *ngFor="let submission of submissions">
                    <td>{{submission.getUserId()}}</td>
                    <td>
                        <input #inputGrade type="text" [value]="submission.getQuestSubmissionGrade(questSelect.value)" />
                        <button type="submit" (click)="setStudentGrade(submission.getUserId(), questSelect.value, inputGrade.value)">Submit</button>
                    </td>
                    <td>{{this.pageService.formatDateTime(submission.getQuestSubmissionDate(questSelect.value))}}</td>
                    <td>{{submission.getQuestSubmissionComment(questSelect.value)}}</td>
                </tr>
            </ng-container>
        </tbody>
    </table>
</ng-container>

<ng-container *ngIf="!quests">
    Loading....
    <img class="loading-icon" src="/assets/images/loading.gif" />
</ng-container>